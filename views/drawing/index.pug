extends ../layout

block content
    h1= title
    p #{title}

    svg(id="c" width="500px" height="500px")
        circle(id="fruits" cx="250" cy="250" r="250" stroke="black" stroke-width="1" fill="#F1DCDB")
        circle(id="gifts" cx="250" cy="250" r="200" stroke="black" stroke-width="1" fill="#DB9796")
        circle(id="cardinal" cx="250" cy="250" r="150" stroke="black" stroke-width="1" fill="#963735")
        circle(id="grace" cx="250" cy="250" r="100" stroke="black" stroke-width="1" fill="#632625")

    //- infused virtue
    svg(id="faith" class='virtue grace')
        text(x="50%" y="50%"  text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Faith
    svg(id="hope" class='virtue grace')
        text(x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Hope
    svg(id="love" class='virtue grace')
        text( x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Love

    //- Cardinal virtues
    svg(id="prudence" class='virtue cardinal')
        text( x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Prudence
    svg(id="justice" class='virtue cardinal')
        text( x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Justice
    svg(id="temperance" class='virtue cardinal')
        text( x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Temperance
    svg(id="fortitude" class='virtue cardinal')
        text( x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Fortitude

    //- gifts from the Holy Spirit
        Wisdom
        Courage
        Knowledge
        Piety
        Fear
        Understanding
        Counsel
    svg(id="wisdom" class='virtue gifts')
        text( x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Wisdom
    svg(id="courage" class='virtue gifts')
        text( x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Courage
    svg(id="knowledge" class='virtue gifts')
        text( x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Knowledge
    svg(id="piety" class='virtue gifts')
        text( x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Piety
    svg(id="fear" class='virtue gifts')
        text( x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Fear
    svg(id="understanding" class='virtue gifts')
        text( x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Understanding
    svg(id="counsel" class='virtue gifts')
        text( x="50%" y="50%" text-anchor="middle" stroke="white" stroke-width="1px" dy=".3em") Counsel


    script.
        $('#c').center();

        function a(id) {
            const duration = 10;
            let canvas = $('#' + id);
            let path = MotionPathPlugin.convertToPath(canvas)[0];
            let elements = $('.' + id);
            console.log(path);
            $(elements).each(function (index) {
                let position = index / elements.length;
                let timeline = gsap.timeline();
                timeline.to($(this), {
                        duration: duration * (1 - position),
                        immediateRender: true,
                        ease: Power0.easeNone,
                        motionPath: {
                            //align: canvas,
                            path: path,
                            autoRotate: false,
                            start: position
                        }
                    }
                ).to($(this), {
                    duration: position * duration,
                    immediateRender: true,
                    ease: Power0.easeNone,
                    motionPath: {
                        //align: canvas,
                        path: path,
                        autoRotate: false,
                        end: position
                    }
                }).repeat(-1);
            })
        }
        a('grace');
        a('cardinal');
        // a('gifts');

